"use strict";
var __createBinding = (this && this.__createBinding) || (Object.create ? (function (o, m, k, k2) {
    if (k2 === undefined)
        k2 = k;
    Object.defineProperty(o, k2, { enumerable: true, get: function () { return m[k]; } });
}) : (function (o, m, k, k2) {
    if (k2 === undefined)
        k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function (o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function (o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || function (mod) {
    if (mod && mod.__esModule)
        return mod;
    var result = {};
    if (mod != null)
        for (var k in mod)
            if (k !== "default" && Object.prototype.hasOwnProperty.call(mod, k))
                __createBinding(result, mod, k);
    __setModuleDefault(result, mod);
    return result;
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try {
            step(generator.next(value));
        }
        catch (e) {
            reject(e);
        } }
        function rejected(value) { try {
            step(generator["throw"](value));
        }
        catch (e) {
            reject(e);
        } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const react_1 = __importStar(require("react"));
const react_plaid_link_1 = require("react-plaid-link");
const Button_1 = __importDefault(require("plaid-threads/Button"));
const Context_1 = __importDefault(require("../../Context"));
const Link = () => {
    const { linkToken, isPaymentInitiation, dispatch } = react_1.useContext(Context_1.default);
    const onSuccess = react_1.default.useCallback((public_token) => {
        // If the access_token is needed, send public_token to server
        const exchangePublicTokenForAccessToken = () => __awaiter(void 0, void 0, void 0, function* () {
            const response = yield fetch("/api/set_access_token", {
                method: "POST",
                headers: {
                    "Content-Type": "application/x-www-form-urlencoded;charset=UTF-8",
                },
                body: `public_token=${public_token}`,
            });
            if (!response.ok) {
                dispatch({
                    type: "SET_STATE",
                    state: {
                        itemId: `no item_id retrieved`,
                        accessToken: `no access_token retrieved`,
                        isItemAccess: false,
                    },
                });
                return;
            }
            const data = yield response.json();
            dispatch({
                type: "SET_STATE",
                state: {
                    itemId: data.item_id,
                    accessToken: data.access_token,
                    isItemAccess: true,
                },
            });
        });
        // 'payment_initiation' products do not require the public_token to be exchanged for an access_token.
        if (isPaymentInitiation) {
            dispatch({ type: "SET_STATE", state: { isItemAccess: false } });
        }
        else {
            exchangePublicTokenForAccessToken();
        }
        dispatch({ type: "SET_STATE", state: { linkSuccess: true } });
        window.history.pushState("", "", "/");
    }, [dispatch]);
    let isOauth = false;
    const config = {
        token: linkToken,
        onSuccess,
    };
    if (window.location.href.includes("?oauth_state_id=")) {
        // TODO: figure out how to delete this ts-ignore
        // @ts-ignore
        config.receivedRedirectUri = window.location.href;
        isOauth = true;
    }
    const { open, ready } = react_plaid_link_1.usePlaidLink(config);
    react_1.useEffect(() => {
        if (isOauth && ready) {
            open();
        }
    }, [ready, open, isOauth]);
    return (<Button_1.default type="button" large onClick={() => open()} disabled={!ready}>
      Launch Link
    </Button_1.default>);
};
Link.displayName = "Link";
exports.default = Link;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi9xdWlja3N0YXJ0L2Zyb250ZW5kL3NyYy9Db21wb25lbnRzL0xpbmsvaW5kZXguanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsWUFBWSxDQUFDO0FBQ2IsSUFBSSxlQUFlLEdBQUcsQ0FBQyxJQUFJLElBQUksSUFBSSxDQUFDLGVBQWUsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxVQUFTLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUU7SUFDMUYsSUFBSSxFQUFFLEtBQUssU0FBUztRQUFFLEVBQUUsR0FBRyxDQUFDLENBQUM7SUFDN0IsTUFBTSxDQUFDLGNBQWMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsVUFBVSxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUUsY0FBYSxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUM7QUFDekYsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsVUFBUyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFO0lBQ3RCLElBQUksRUFBRSxLQUFLLFNBQVM7UUFBRSxFQUFFLEdBQUcsQ0FBQyxDQUFDO0lBQzdCLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDakIsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUNKLElBQUksa0JBQWtCLEdBQUcsQ0FBQyxJQUFJLElBQUksSUFBSSxDQUFDLGtCQUFrQixDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLFVBQVMsQ0FBQyxFQUFFLENBQUM7SUFDekYsTUFBTSxDQUFDLGNBQWMsQ0FBQyxDQUFDLEVBQUUsU0FBUyxFQUFFLEVBQUUsVUFBVSxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQztBQUN4RSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsVUFBUyxDQUFDLEVBQUUsQ0FBQztJQUNkLENBQUMsQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLENBQUM7QUFDckIsQ0FBQyxDQUFDLENBQUM7QUFDSCxJQUFJLFlBQVksR0FBRyxDQUFDLElBQUksSUFBSSxJQUFJLENBQUMsWUFBWSxDQUFDLElBQUksVUFBVSxHQUFHO0lBQzNELElBQUksR0FBRyxJQUFJLEdBQUcsQ0FBQyxVQUFVO1FBQUUsT0FBTyxHQUFHLENBQUM7SUFDdEMsSUFBSSxNQUFNLEdBQUcsRUFBRSxDQUFDO0lBQ2hCLElBQUksR0FBRyxJQUFJLElBQUk7UUFBRSxLQUFLLElBQUksQ0FBQyxJQUFJLEdBQUc7WUFBRSxJQUFJLENBQUMsS0FBSyxTQUFTLElBQUksTUFBTSxDQUFDLFNBQVMsQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUM7Z0JBQUUsZUFBZSxDQUFDLE1BQU0sRUFBRSxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDekksa0JBQWtCLENBQUMsTUFBTSxFQUFFLEdBQUcsQ0FBQyxDQUFDO0lBQ2hDLE9BQU8sTUFBTSxDQUFDO0FBQ2xCLENBQUMsQ0FBQztBQUNGLElBQUksU0FBUyxHQUFHLENBQUMsSUFBSSxJQUFJLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxVQUFVLE9BQU8sRUFBRSxVQUFVLEVBQUUsQ0FBQyxFQUFFLFNBQVM7SUFDbkYsU0FBUyxLQUFLLENBQUMsS0FBSyxJQUFJLE9BQU8sS0FBSyxZQUFZLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxVQUFVLE9BQU8sSUFBSSxPQUFPLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDNUcsT0FBTyxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxHQUFHLE9BQU8sQ0FBQyxDQUFDLENBQUMsVUFBVSxPQUFPLEVBQUUsTUFBTTtRQUNyRCxTQUFTLFNBQVMsQ0FBQyxLQUFLLElBQUksSUFBSTtZQUFFLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7U0FBRTtRQUFDLE9BQU8sQ0FBQyxFQUFFO1lBQUUsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQUUsQ0FBQyxDQUFDO1FBQzNGLFNBQVMsUUFBUSxDQUFDLEtBQUssSUFBSSxJQUFJO1lBQUUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO1NBQUU7UUFBQyxPQUFPLENBQUMsRUFBRTtZQUFFLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQztTQUFFLENBQUMsQ0FBQztRQUM5RixTQUFTLElBQUksQ0FBQyxNQUFNLElBQUksTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUM5RyxJQUFJLENBQUMsQ0FBQyxTQUFTLEdBQUcsU0FBUyxDQUFDLEtBQUssQ0FBQyxPQUFPLEVBQUUsVUFBVSxJQUFJLEVBQUUsQ0FBQyxDQUFDLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQztJQUMxRSxDQUFDLENBQUMsQ0FBQztBQUNQLENBQUMsQ0FBQztBQUNGLElBQUksZUFBZSxHQUFHLENBQUMsSUFBSSxJQUFJLElBQUksQ0FBQyxlQUFlLENBQUMsSUFBSSxVQUFVLEdBQUc7SUFDakUsT0FBTyxDQUFDLEdBQUcsSUFBSSxHQUFHLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxTQUFTLEVBQUUsR0FBRyxFQUFFLENBQUM7QUFDOUQsQ0FBQyxDQUFDO0FBQ0YsTUFB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QyxRQUFRLENBQUMsSUFBSSxDQUFDO1FBQ2xELE9BQU8sR0FBRyxJQUFJLENBQUM7S0FDbEI7SUFDRCxNQUFNLEVBQUUsSUFBSSxFQUFFLEtBQUssRUFBRSxHQUFHLGtCQUFrQixDQUFDLFlBQVksQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUNoRSxPQUFPLENBQUMsU0FBUyxDQUFDLEdBQUcsRUFBRTtRQUNuQixJQUFJLE9BQU8sSUFBSSxLQUFLLEVBQUU7WUFDbEIsSUFBSSxFQUFFLENBQUM7U0FDVjtJQUNMLENBQUMsRUFBRSxDQUFDLEtBQUssRUFBRSxJQUFJLEVBQUUsT0FBTyxDQUFDLENBQUMsQ0FBQztJQUMzQixPQUFPLENBQUMsQ0FBQyxRQUFRLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLElBQUksRUFBRSxDQUFDLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FDcEY7O0lBQ0YsRUFBRSxRQUFRLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQztBQUN6QixDQUFDLENBQUM7QUFDRixJQUFJLENBQUMsV0FBVyxHQUFHLE1BQU0sQ0FBQztBQUMxQixPQUFPLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIF9fY3JlYXRlQmluZGluZyA9ICh0aGlzICYmIHRoaXMuX19jcmVhdGVCaW5kaW5nKSB8fCAoT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIGsyLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24oKSB7IHJldHVybiBtW2tdOyB9IH0pO1xufSkgOiAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xuICAgIG9bazJdID0gbVtrXTtcbn0pKTtcbnZhciBfX3NldE1vZHVsZURlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9fc2V0TW9kdWxlRGVmYXVsdCkgfHwgKE9iamVjdC5jcmVhdGUgPyAoZnVuY3Rpb24obywgdikge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBcImRlZmF1bHRcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdiB9KTtcbn0pIDogZnVuY3Rpb24obywgdikge1xuICAgIG9bXCJkZWZhdWx0XCJdID0gdjtcbn0pO1xudmFyIF9faW1wb3J0U3RhciA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnRTdGFyKSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgaWYgKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgcmV0dXJuIG1vZDtcbiAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgaWYgKG1vZCAhPSBudWxsKSBmb3IgKHZhciBrIGluIG1vZCkgaWYgKGsgIT09IFwiZGVmYXVsdFwiICYmIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChtb2QsIGspKSBfX2NyZWF0ZUJpbmRpbmcocmVzdWx0LCBtb2QsIGspO1xuICAgIF9fc2V0TW9kdWxlRGVmYXVsdChyZXN1bHQsIG1vZCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn07XG52YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgIH0pO1xufTtcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IHJlYWN0XzEgPSBfX2ltcG9ydFN0YXIocmVxdWlyZShcInJlYWN0XCIpKTtcbmNvbnN0IHJlYWN0X3BsYWlkX2xpbmtfMSA9IHJlcXVpcmUoXCJyZWFjdC1wbGFpZC1saW5rXCIpO1xuY29uc3QgQnV0dG9uXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcInBsYWlkLXRocmVhZHMvQnV0dG9uXCIpKTtcbmNvbnN0IENvbnRleHRfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi4vLi4vQ29udGV4dFwiKSk7XG5jb25zdCBMaW5rID0gKCkgPT4ge1xuICAgIGNvbnN0IHsgbGlua1Rva2VuLCBpc1BheW1lbnRJbml0aWF0aW9uLCBkaXNwYXRjaCB9ID0gcmVhY3RfMS51c2VDb250ZXh0KENvbnRleHRfMS5kZWZhdWx0KTtcbiAgICBjb25zdCBvblN1Y2Nlc3MgPSByZWFjdF8xLmRlZmF1bHQudXNlQ2FsbGJhY2soKHB1YmxpY190b2tlbikgPT4ge1xuICAgICAgICAvLyBJZiB0aGUgYWNjZXNzX3Rva2VuIGlzIG5lZWRlZCwgc2VuZCBwdWJsaWNfdG9rZW4gdG8gc2VydmVyXG4gICAgICAgIGNvbnN0IGV4Y2hhbmdlUHVibGljVG9rZW5Gb3JBY2Nlc3NUb2tlbiA9ICgpID0+IF9fYXdhaXRlcih2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCBmZXRjaChcIi9hcGkvc2V0X2FjY2Vzc190b2tlblwiLCB7XG4gICAgICAgICAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkO2NoYXJzZXQ9VVRGLThcIixcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGJvZHk6IGBwdWJsaWNfdG9rZW49JHtwdWJsaWNfdG9rZW59YCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgICAgIGRpc3BhdGNoKHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJTRVRfU1RBVEVcIixcbiAgICAgICAgICAgICAgICAgICAgc3RhdGU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1JZDogYG5vIGl0ZW1faWQgcmV0cmlldmVkYCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjY2Vzc1Rva2VuOiBgbm8gYWNjZXNzX3Rva2VuIHJldHJpZXZlZGAsXG4gICAgICAgICAgICAgICAgICAgICAgICBpc0l0ZW1BY2Nlc3M6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSB5aWVsZCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgICBkaXNwYXRjaCh7XG4gICAgICAgICAgICAgICAgdHlwZTogXCJTRVRfU1RBVEVcIixcbiAgICAgICAgICAgICAgICBzdGF0ZToge1xuICAgICAgICAgICAgICAgICAgICBpdGVtSWQ6IGRhdGEuaXRlbV9pZCxcbiAgICAgICAgICAgICAgICAgICAgYWNjZXNzVG9rZW46IGRhdGEuYWNjZXNzX3Rva2VuLFxuICAgICAgICAgICAgICAgICAgICBpc0l0ZW1BY2Nlc3M6IHRydWUsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gJ3BheW1lbnRfaW5pdGlhdGlvbicgcHJvZHVjdHMgZG8gbm90IHJlcXVpcmUgdGhlIHB1YmxpY190b2tlbiB0byBiZSBleGNoYW5nZWQgZm9yIGFuIGFjY2Vzc190b2tlbi5cbiAgICAgICAgaWYgKGlzUGF5bWVudEluaXRpYXRpb24pIHtcbiAgICAgICAgICAgIGRpc3BhdGNoKHsgdHlwZTogXCJTRVRfU1RBVEVcIiwgc3RhdGU6IHsgaXNJdGVtQWNjZXNzOiBmYWxzZSB9IH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZXhjaGFuZ2VQdWJsaWNUb2tlbkZvckFjY2Vzc1Rva2VuKCk7XG4gICAgICAgIH1cbiAgICAgICAgZGlzcGF0Y2goeyB0eXBlOiBcIlNFVF9TVEFURVwiLCBzdGF0ZTogeyBsaW5rU3VjY2VzczogdHJ1ZSB9IH0pO1xuICAgICAgICB3aW5kb3cuaGlzdG9yeS5wdXNoU3RhdGUoXCJcIiwgXCJcIiwgXCIvXCIpO1xuICAgIH0sIFtkaXNwYXRjaF0pO1xuICAgIGxldCBpc09hdXRoID0gZmFsc2U7XG4gICAgY29uc3QgY29uZmlnID0ge1xuICAgICAgICB0b2tlbjogbGlua1Rva2VuLFxuICAgICAgICBvblN1Y2Nlc3MsXG4gICAgfTtcbiAgICBpZiAod2luZG93LmxvY2F0aW9uLmhyZWYuaW5jbHVkZXMoXCI/b2F1dGhfc3RhdGVfaWQ9XCIpKSB7XG4gICAgICAgIC8vIFRPRE86IGZpZ3VyZSBvdXQgaG93IHRvIGRlbGV0ZSB0aGlzIHRzLWlnbm9yZVxuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIGNvbmZpZy5yZWNlaXZlZFJlZGlyZWN0VXJpID0gd2luZG93LmxvY2F0aW9uLmhyZWY7XG4gICAgICAgIGlzT2F1dGggPSB0cnVlO1xuICAgIH1cbiAgICBjb25zdCB7IG9wZW4sIHJlYWR5IH0gPSByZWFjdF9wbGFpZF9saW5rXzEudXNlUGxhaWRMaW5rKGNvbmZpZyk7XG4gICAgcmVhY3RfMS51c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoaXNPYXV0aCAmJiByZWFkeSkge1xuICAgICAgICAgICAgb3BlbigpO1xuICAgICAgICB9XG4gICAgfSwgW3JlYWR5LCBvcGVuLCBpc09hdXRoXSk7XG4gICAgcmV0dXJuICg8QnV0dG9uXzEuZGVmYXVsdCB0eXBlPVwiYnV0dG9uXCIgbGFyZ2Ugb25DbGljaz17KCkgPT4gb3BlbigpfSBkaXNhYmxlZD17IXJlYWR5fT5cbiAgICAgIExhdW5jaCBMaW5rXG4gICAgPC9CdXR0b25fMS5kZWZhdWx0Pik7XG59O1xuTGluay5kaXNwbGF5TmFtZSA9IFwiTGlua1wiO1xuZXhwb3J0cy5kZWZhdWx0ID0gTGluaztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsZXlKMlpYSnphVzl1SWpvekxDSm1hV3hsSWpvaWFXNWtaWGd1YW5NaUxDSnpiM1Z5WTJWU2IyOTBJam9pSWl3aWMyOTFjbU5sY3lJNld5SXVMaTh1TGk4dUxpOHVMaTh1TGk4dUxpOXhkV2xqYTNOMFlYSjBMMlp5YjI1MFpXNWtMM055WXk5RGIyMXdiMjVsYm5SekwweHBibXN2YVc1a1pYZ3VkSE40SWwwc0ltNWhiV1Z6SWpwYlhTd2liV0Z3Y0dsdVozTWlPaUk3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096dEJRVUZCTEN0RFFVRnhSRHRCUVVOeVJDeDFSRUZCWjBRN1FVRkRhRVFzYTBWQlFUQkRPMEZCUlRGRExEUkVRVUZ2UXp0QlFVZHdReXhOUVVGTkxFbEJRVWtzUjBGQlJ5eEhRVUZITEVWQlFVVTdTVUZEYUVJc1RVRkJUU3hGUVVGRkxGTkJRVk1zUlVGQlJTeHRRa0ZCYlVJc1JVRkJSU3hSUVVGUkxFVkJRVVVzUjBGQlJ5eHJRa0ZCVlN4RFFVRkRMR2xDUVVGUExFTkJRVU1zUTBGQlF6dEpRVVY2UlN4TlFVRk5MRk5CUVZNc1IwRkJSeXhsUVVGTExFTkJRVU1zVjBGQlZ5eERRVU5xUXl4RFFVRkRMRmxCUVc5Q0xFVkJRVVVzUlVGQlJUdFJRVU4yUWl3MlJFRkJOa1E3VVVGRE4wUXNUVUZCVFN4cFEwRkJhVU1zUjBGQlJ5eEhRVUZUTEVWQlFVVTdXVUZEYmtRc1RVRkJUU3hSUVVGUkxFZEJRVWNzVFVGQlRTeExRVUZMTEVOQlFVTXNkVUpCUVhWQ0xFVkJRVVU3WjBKQlEzQkVMRTFCUVUwc1JVRkJSU3hOUVVGTk8yZENRVU5rTEU5QlFVOHNSVUZCUlR0dlFrRkRVQ3hqUVVGakxFVkJRVVVzYVVSQlFXbEVPMmxDUVVOc1JUdG5Ra0ZEUkN4SlFVRkpMRVZCUVVVc1owSkJRV2RDTEZsQlFWa3NSVUZCUlR0aFFVTnlReXhEUVVGRExFTkJRVU03V1VGRFNDeEpRVUZKTEVOQlFVTXNVVUZCVVN4RFFVRkRMRVZCUVVVc1JVRkJSVHRuUWtGRGFFSXNVVUZCVVN4RFFVRkRPMjlDUVVOUUxFbEJRVWtzUlVGQlJTeFhRVUZYTzI5Q1FVTnFRaXhMUVVGTExFVkJRVVU3ZDBKQlEwd3NUVUZCVFN4RlFVRkZMSE5DUVVGelFqdDNRa0ZET1VJc1YwRkJWeXhGUVVGRkxESkNRVUV5UWp0M1FrRkRlRU1zV1VGQldTeEZRVUZGTEV0QlFVczdjVUpCUTNCQ08ybENRVU5HTEVOQlFVTXNRMEZCUXp0blFrRkRTQ3hQUVVGUE8yRkJRMUk3V1VGRFJDeE5RVUZOTEVsQlFVa3NSMEZCUnl4TlFVRk5MRkZCUVZFc1EwRkJReXhKUVVGSkxFVkJRVVVzUTBGQlF6dFpRVU51UXl4UlFVRlJMRU5CUVVNN1owSkJRMUFzU1VGQlNTeEZRVUZGTEZkQlFWYzdaMEpCUTJwQ0xFdEJRVXNzUlVGQlJUdHZRa0ZEVEN4TlFVRk5MRVZCUVVVc1NVRkJTU3hEUVVGRExFOUJRVTg3YjBKQlEzQkNMRmRCUVZjc1JVRkJSU3hKUVVGSkxFTkJRVU1zV1VGQldUdHZRa0ZET1VJc1dVRkJXU3hGUVVGRkxFbEJRVWs3YVVKQlEyNUNPMkZCUTBZc1EwRkJReXhEUVVGRE8xRkJRMHdzUTBGQlF5eERRVUZCTEVOQlFVTTdVVUZGUml4eFIwRkJjVWM3VVVGRGNrY3NTVUZCU1N4dFFrRkJiVUlzUlVGQlF6dFpRVU4wUWl4UlFVRlJMRU5CUVVNc1JVRkJSU3hKUVVGSkxFVkJRVVVzVjBGQlZ5eEZRVUZGTEV0QlFVc3NSVUZCUlN4RlFVRkZMRmxCUVZrc1JVRkJSU3hMUVVGTExFVkJRVVVzUlVGQlJTeERRVUZETEVOQlFVTTdVMEZEYWtVN1lVRkJUVHRaUVVOTUxHbERRVUZwUXl4RlFVRkZMRU5CUVVNN1UwRkRja003VVVGRlJDeFJRVUZSTEVOQlFVTXNSVUZCUlN4SlFVRkpMRVZCUVVVc1YwRkJWeXhGUVVGRkxFdEJRVXNzUlVGQlJTeEZRVUZGTEZkQlFWY3NSVUZCUlN4SlFVRkpMRVZCUVVVc1JVRkJSU3hEUVVGRExFTkJRVU03VVVGRE9VUXNUVUZCVFN4RFFVRkRMRTlCUVU4c1EwRkJReXhUUVVGVExFTkJRVU1zUlVGQlJTeEZRVUZGTEVWQlFVVXNSVUZCUlN4SFFVRkhMRU5CUVVNc1EwRkJRenRKUVVONFF5eERRVUZETEVWQlEwUXNRMEZCUXl4UlFVRlJMRU5CUVVNc1EwRkRXQ3hEUVVGRE8wbEJSVVlzU1VGQlNTeFBRVUZQTEVkQlFVY3NTMEZCU3l4RFFVRkRPMGxCUTNCQ0xFMUJRVTBzVFVGQlRTeEhRVUYxUXp0UlFVTnFSQ3hMUVVGTExFVkJRVVVzVTBGQlZUdFJRVU5xUWl4VFFVRlRPMHRCUTFZc1EwRkJRenRKUVVWR0xFbEJRVWtzVFVGQlRTeERRVUZETEZGQlFWRXNRMEZCUXl4SlFVRkpMRU5CUVVNc1VVRkJVU3hEUVVGRExHdENRVUZyUWl4RFFVRkRMRVZCUVVVN1VVRkRja1FzWjBSQlFXZEVPMUZCUTJoRUxHRkJRV0U3VVVGRFlpeE5RVUZOTEVOQlFVTXNiVUpCUVcxQ0xFZEJRVWNzVFVGQlRTeERRVUZETEZGQlFWRXNRMEZCUXl4SlFVRkpMRU5CUVVNN1VVRkRiRVFzVDBGQlR5eEhRVUZITEVsQlFVa3NRMEZCUXp0TFFVTm9RanRKUVVWRUxFMUJRVTBzUlVGQlJTeEpRVUZKTEVWQlFVVXNTMEZCU3l4RlFVRkZMRWRCUVVjc0swSkJRVmtzUTBGQlF5eE5RVUZOTEVOQlFVTXNRMEZCUXp0SlFVVTNReXhwUWtGQlV5eERRVUZETEVkQlFVY3NSVUZCUlR0UlFVTmlMRWxCUVVrc1QwRkJUeXhKUVVGSkxFdEJRVXNzUlVGQlJUdFpRVU53UWl4SlFVRkpMRVZCUVVVc1EwRkJRenRUUVVOU08wbEJRMGdzUTBGQlF5eEZRVUZGTEVOQlFVTXNTMEZCU3l4RlFVRkZMRWxCUVVrc1JVRkJSU3hQUVVGUExFTkJRVU1zUTBGQlF5eERRVUZETzBsQlJUTkNMRTlCUVU4c1EwRkRUQ3hEUVVGRExHZENRVUZOTEVOQlFVTXNTVUZCU1N4RFFVRkRMRkZCUVZFc1EwRkJReXhMUVVGTExFTkJRVU1zVDBGQlR5eERRVUZETEVOQlFVTXNSMEZCUnl4RlFVRkZMRU5CUVVNc1NVRkJTU3hGUVVGRkxFTkJRVU1zUTBGQlF5eFJRVUZSTEVOQlFVTXNRMEZCUXl4RFFVRkRMRXRCUVVzc1EwRkJReXhEUVVOc1JUczdTVUZEUml4RlFVRkZMR2RDUVVGTkxFTkJRVU1zUTBGRFZpeERRVUZETzBGQlEwb3NRMEZCUXl4RFFVRkRPMEZCUlVZc1NVRkJTU3hEUVVGRExGZEJRVmNzUjBGQlJ5eE5RVUZOTEVOQlFVTTdRVUZGTVVJc2EwSkJRV1VzU1VGQlNTeERRVUZESWl3aWMyOTFjbU5sYzBOdmJuUmxiblFpT2xzaWFXMXdiM0owSUZKbFlXTjBMQ0I3SUhWelpVVm1abVZqZEN3Z2RYTmxRMjl1ZEdWNGRDQjlJR1p5YjIwZ1hDSnlaV0ZqZEZ3aU8xeHVhVzF3YjNKMElIc2dkWE5sVUd4aGFXUk1hVzVySUgwZ1puSnZiU0JjSW5KbFlXTjBMWEJzWVdsa0xXeHBibXRjSWp0Y2JtbHRjRzl5ZENCQ2RYUjBiMjRnWm5KdmJTQmNJbkJzWVdsa0xYUm9jbVZoWkhNdlFuVjBkRzl1WENJN1hHNWNibWx0Y0c5eWRDQkRiMjUwWlhoMElHWnliMjBnWENJdUxpOHVMaTlEYjI1MFpYaDBYQ0k3WEc1cGJYQnZjblFnZTFCeWIyUjFZM1J6ZlNCbWNtOXRJRndpY0d4aGFXUmNJanRjYmx4dVkyOXVjM1FnVEdsdWF5QTlJQ2dwSUQwK0lIdGNiaUFnWTI5dWMzUWdleUJzYVc1clZHOXJaVzRzSUdselVHRjViV1Z1ZEVsdWFYUnBZWFJwYjI0c0lHUnBjM0JoZEdOb0lIMGdQU0IxYzJWRGIyNTBaWGgwS0VOdmJuUmxlSFFwTzF4dVhHNGdJR052Ym5OMElHOXVVM1ZqWTJWemN5QTlJRkpsWVdOMExuVnpaVU5oYkd4aVlXTnJLRnh1SUNBZ0lDaHdkV0pzYVdOZmRHOXJaVzQ2SUhOMGNtbHVaeWtnUFQ0Z2UxeHVJQ0FnSUNBZ0x5OGdTV1lnZEdobElHRmpZMlZ6YzE5MGIydGxiaUJwY3lCdVpXVmtaV1FzSUhObGJtUWdjSFZpYkdsalgzUnZhMlZ1SUhSdklITmxjblpsY2x4dUlDQWdJQ0FnWTI5dWMzUWdaWGhqYUdGdVoyVlFkV0pzYVdOVWIydGxia1p2Y2tGalkyVnpjMVJ2YTJWdUlEMGdZWE41Ym1NZ0tDa2dQVDRnZTF4dUlDQWdJQ0FnSUNCamIyNXpkQ0J5WlhOd2IyNXpaU0E5SUdGM1lXbDBJR1psZEdOb0tGd2lMMkZ3YVM5elpYUmZZV05qWlhOelgzUnZhMlZ1WENJc0lIdGNiaUFnSUNBZ0lDQWdJQ0J0WlhSb2IyUTZJRndpVUU5VFZGd2lMRnh1SUNBZ0lDQWdJQ0FnSUdobFlXUmxjbk02SUh0Y2JpQWdJQ0FnSUNBZ0lDQWdJRndpUTI5dWRHVnVkQzFVZVhCbFhDSTZJRndpWVhCd2JHbGpZWFJwYjI0dmVDMTNkM2N0Wm05eWJTMTFjbXhsYm1OdlpHVmtPMk5vWVhKelpYUTlWVlJHTFRoY0lpeGNiaUFnSUNBZ0lDQWdJQ0I5TEZ4dUlDQWdJQ0FnSUNBZ0lHSnZaSGs2SUdCd2RXSnNhV05mZEc5clpXNDlKSHR3ZFdKc2FXTmZkRzlyWlc1OVlDeGNiaUFnSUNBZ0lDQWdmU2s3WEc0Z0lDQWdJQ0FnSUdsbUlDZ2hjbVZ6Y0c5dWMyVXViMnNwSUh0Y2JpQWdJQ0FnSUNBZ0lDQmthWE53WVhSamFDaDdYRzRnSUNBZ0lDQWdJQ0FnSUNCMGVYQmxPaUJjSWxORlZGOVRWRUZVUlZ3aUxGeHVJQ0FnSUNBZ0lDQWdJQ0FnYzNSaGRHVTZJSHRjYmlBZ0lDQWdJQ0FnSUNBZ0lDQWdhWFJsYlVsa09pQmdibThnYVhSbGJWOXBaQ0J5WlhSeWFXVjJaV1JnTEZ4dUlDQWdJQ0FnSUNBZ0lDQWdJQ0JoWTJObGMzTlViMnRsYmpvZ1lHNXZJR0ZqWTJWemMxOTBiMnRsYmlCeVpYUnlhV1YyWldSZ0xGeHVJQ0FnSUNBZ0lDQWdJQ0FnSUNCcGMwbDBaVzFCWTJObGMzTTZJR1poYkhObExGeHVJQ0FnSUNBZ0lDQWdJQ0FnZlN4Y2JpQWdJQ0FnSUNBZ0lDQjlLVHRjYmlBZ0lDQWdJQ0FnSUNCeVpYUjFjbTQ3WEc0Z0lDQWdJQ0FnSUgxY2JpQWdJQ0FnSUNBZ1kyOXVjM1FnWkdGMFlTQTlJR0YzWVdsMElISmxjM0J2Ym5ObExtcHpiMjRvS1R0Y2JpQWdJQ0FnSUNBZ1pHbHpjR0YwWTJnb2UxeHVJQ0FnSUNBZ0lDQWdJSFI1Y0dVNklGd2lVMFZVWDFOVVFWUkZYQ0lzWEc0Z0lDQWdJQ0FnSUNBZ2MzUmhkR1U2SUh0Y2JpQWdJQ0FnSUNBZ0lDQWdJR2wwWlcxSlpEb2daR0YwWVM1cGRHVnRYMmxrTEZ4dUlDQWdJQ0FnSUNBZ0lDQWdZV05qWlhOelZHOXJaVzQ2SUdSaGRHRXVZV05qWlhOelgzUnZhMlZ1TEZ4dUlDQWdJQ0FnSUNBZ0lDQWdhWE5KZEdWdFFXTmpaWE56T2lCMGNuVmxMRnh1SUNBZ0lDQWdJQ0FnSUgwc1hHNGdJQ0FnSUNBZ0lIMHBPMXh1SUNBZ0lDQWdmVHRjYmx4dUlDQWdJQ0FnTHk4Z0ozQmhlVzFsYm5SZmFXNXBkR2xoZEdsdmJpY2djSEp2WkhWamRITWdaRzhnYm05MElISmxjWFZwY21VZ2RHaGxJSEIxWW14cFkxOTBiMnRsYmlCMGJ5QmlaU0JsZUdOb1lXNW5aV1FnWm05eUlHRnVJR0ZqWTJWemMxOTBiMnRsYmk1Y2JpQWdJQ0FnSUdsbUlDaHBjMUJoZVcxbGJuUkpibWwwYVdGMGFXOXVLWHRjYmlBZ0lDQWdJQ0FnWkdsemNHRjBZMmdvZXlCMGVYQmxPaUJjSWxORlZGOVRWRUZVUlZ3aUxDQnpkR0YwWlRvZ2V5QnBjMGwwWlcxQlkyTmxjM002SUdaaGJITmxJSDBnZlNrN1hHNGdJQ0FnSUNCOUlHVnNjMlVnZTF4dUlDQWdJQ0FnSUNCbGVHTm9ZVzVuWlZCMVlteHBZMVJ2YTJWdVJtOXlRV05qWlhOelZHOXJaVzRvS1R0Y2JpQWdJQ0FnSUgxY2JseHVJQ0FnSUNBZ1pHbHpjR0YwWTJnb2V5QjBlWEJsT2lCY0lsTkZWRjlUVkVGVVJWd2lMQ0J6ZEdGMFpUb2dleUJzYVc1clUzVmpZMlZ6Y3pvZ2RISjFaU0I5SUgwcE8xeHVJQ0FnSUNBZ2QybHVaRzkzTG1ocGMzUnZjbmt1Y0hWemFGTjBZWFJsS0Z3aVhDSXNJRndpWENJc0lGd2lMMXdpS1R0Y2JpQWdJQ0I5TEZ4dUlDQWdJRnRrYVhOd1lYUmphRjFjYmlBZ0tUdGNibHh1SUNCc1pYUWdhWE5QWVhWMGFDQTlJR1poYkhObE8xeHVJQ0JqYjI1emRDQmpiMjVtYVdjNklGQmhjbUZ0WlhSbGNuTThkSGx3Wlc5bUlIVnpaVkJzWVdsa1RHbHVhejViTUYwZ1BTQjdYRzRnSUNBZ2RHOXJaVzQ2SUd4cGJtdFViMnRsYmlFc1hHNGdJQ0FnYjI1VGRXTmpaWE56TEZ4dUlDQjlPMXh1WEc0Z0lHbG1JQ2gzYVc1a2IzY3ViRzlqWVhScGIyNHVhSEpsWmk1cGJtTnNkV1JsY3loY0lqOXZZWFYwYUY5emRHRjBaVjlwWkQxY0lpa3BJSHRjYmlBZ0lDQXZMeUJVVDBSUE9pQm1hV2QxY21VZ2IzVjBJR2h2ZHlCMGJ5QmtaV3hsZEdVZ2RHaHBjeUIwY3kxcFoyNXZjbVZjYmlBZ0lDQXZMeUJBZEhNdGFXZHViM0psWEc0Z0lDQWdZMjl1Wm1sbkxuSmxZMlZwZG1Wa1VtVmthWEpsWTNSVmNta2dQU0IzYVc1a2IzY3ViRzlqWVhScGIyNHVhSEpsWmp0Y2JpQWdJQ0JwYzA5aGRYUm9JRDBnZEhKMVpUdGNiaUFnZlZ4dVhHNGdJR052Ym5OMElIc2diM0JsYml3Z2NtVmhaSGtnZlNBOUlIVnpaVkJzWVdsa1RHbHVheWhqYjI1bWFXY3BPMXh1WEc0Z0lIVnpaVVZtWm1WamRDZ29LU0E5UGlCN1hHNGdJQ0FnYVdZZ0tHbHpUMkYxZEdnZ0ppWWdjbVZoWkhrcElIdGNiaUFnSUNBZ0lHOXdaVzRvS1R0Y2JpQWdJQ0I5WEc0Z0lIMHNJRnR5WldGa2VTd2diM0JsYml3Z2FYTlBZWFYwYUYwcE8xeHVYRzRnSUhKbGRIVnliaUFvWEc0Z0lDQWdQRUoxZEhSdmJpQjBlWEJsUFZ3aVluVjBkRzl1WENJZ2JHRnlaMlVnYjI1RGJHbGphejE3S0NrZ1BUNGdiM0JsYmlncGZTQmthWE5oWW14bFpEMTdJWEpsWVdSNWZUNWNiaUFnSUNBZ0lFeGhkVzVqYUNCTWFXNXJYRzRnSUNBZ1BDOUNkWFIwYjI0K1hHNGdJQ2s3WEc1OU8xeHVYRzVNYVc1ckxtUnBjM0JzWVhsT1lXMWxJRDBnWENKTWFXNXJYQ0k3WEc1Y2JtVjRjRzl5ZENCa1pXWmhkV3gwSUV4cGJtczdYRzRpWFgwPSJdfQ==