"use strict";
var __createBinding = (this && this.__createBinding) || (Object.create ? (function (o, m, k, k2) {
    if (k2 === undefined)
        k2 = k;
    Object.defineProperty(o, k2, { enumerable: true, get: function () { return m[k]; } });
}) : (function (o, m, k, k2) {
    if (k2 === undefined)
        k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function (o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function (o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || function (mod) {
    if (mod && mod.__esModule)
        return mod;
    var result = {};
    if (mod != null)
        for (var k in mod)
            if (k !== "default" && Object.prototype.hasOwnProperty.call(mod, k))
                __createBinding(result, mod, k);
    __setModuleDefault(result, mod);
    return result;
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try {
            step(generator.next(value));
        }
        catch (e) {
            reject(e);
        } }
        function rejected(value) { try {
            step(generator["throw"](value));
        }
        catch (e) {
            reject(e);
        } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const react_1 = __importStar(require("react"));
const Headers_1 = __importDefault(require("./Components/Headers"));
const Products_1 = __importDefault(require("./Components/ProductTypes/Products"));
const Items_1 = __importDefault(require("./Components/ProductTypes/Items"));
const Context_1 = __importDefault(require("./Context"));
const App_module_scss_1 = __importDefault(require("./App.module.scss"));
const App = () => {
    const { linkSuccess, isItemAccess, isPaymentInitiation, dispatch } = react_1.useContext(Context_1.default);
    const getInfo = react_1.useCallback(() => __awaiter(void 0, void 0, void 0, function* () {
        const response = yield fetch("/api/info", { method: "POST" });
        if (!response.ok) {
            dispatch({ type: "SET_STATE", state: { backend: false } });
            return { paymentInitiation: false };
        }
        const data = yield response.json();
        const paymentInitiation = data.products.includes("payment_initiation");
        dispatch({
            type: "SET_STATE",
            state: {
                products: data.products,
                isPaymentInitiation: paymentInitiation,
            },
        });
        return { paymentInitiation };
    }), [dispatch]);
    const generateToken = react_1.useCallback((isPaymentInitiation) => __awaiter(void 0, void 0, void 0, function* () {
        // Link tokens for 'payment_initiation' use a different creation flow in your backend.
        const path = isPaymentInitiation
            ? "/api/create_link_token_for_payment"
            : "/api/create_link_token";
        const response = yield fetch(path, {
            method: "POST",
        });
        if (!response.ok) {
            dispatch({ type: "SET_STATE", state: { linkToken: null } });
            return;
        }
        const data = yield response.json();
        if (data) {
            if (data.error != null) {
                dispatch({
                    type: "SET_STATE",
                    state: {
                        linkToken: null,
                        linkTokenError: data.error,
                    },
                });
                return;
            }
            dispatch({ type: "SET_STATE", state: { linkToken: data.link_token } });
        }
        // Save the link_token to be used later in the Oauth flow.
        localStorage.setItem("link_token", data.link_token);
    }), [dispatch]);
    react_1.useEffect(() => {
        const init = () => __awaiter(void 0, void 0, void 0, function* () {
            const { paymentInitiation } = yield getInfo(); // used to determine which path to take when generating token
            // do not generate a new token for OAuth redirect; instead
            // setLinkToken from localStorage
            if (window.location.href.includes("?oauth_state_id=")) {
                dispatch({
                    type: "SET_STATE",
                    state: {
                        linkToken: localStorage.getItem("link_token"),
                    },
                });
                return;
            }
            generateToken(paymentInitiation);
        });
        init();
    }, [dispatch, generateToken, getInfo]);
    return (<div className={App_module_scss_1.default.App}>
      <div className={App_module_scss_1.default.container}>
        <Headers_1.default />
        {linkSuccess && (<>
            {isPaymentInitiation && (<Products_1.default />)}
            {isItemAccess && (<>
                <Products_1.default />
                <Items_1.default />
              </>)}
          </>)}
      </div>
    </div>);
};
exports.default = App;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQXBwLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vcXVpY2tzdGFydC9mcm9udGVuZC9zcmMvQXBwLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLFlBQVksQ0FBQztBQUNiLElBQUksZUFBZSxHQUFHLENBQUMsSUFBSSxJQUFJLElBQUksQ0FBQyxlQUFlLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsVUFBUyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFO0lBQzFGLElBQUksRUFBRSxLQUFLLFNBQVM7UUFBRSxFQUFFLEdBQUcsQ0FBQyxDQUFDO0lBQzdCLE1BQU0sQ0FBQyxjQUFjLENBQUMsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLFVBQVUsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLGNBQWEsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDO0FBQ3pGLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLFVBQVMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRTtJQUN0QixJQUFJLEVBQUUsS0FBSyxTQUFTO1FBQUUsRUFBRSxHQUFHLENBQUMsQ0FBQztJQUM3QixDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQ2pCLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDSixJQUFJLGtCQUFrQixHQUFHLENBQUMsSUFBSSxJQUFJLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxVQUFTLENBQUMsRUFBRSxDQUFDO0lBQ3pGLE1BQU0sQ0FBQyxjQUFjLENBQUMsQ0FBQyxFQUFFLFNBQVMsRUFBRSxFQUFFLFVBQVUsRUFBRSxJQUFJLEVBQUUsS0FBSyxFQUFFLENBQUMsRUFBRSxDQUFD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Q0FBQztJQUNYLENBQUMsRUFBRSxDQUFDLFFBQVEsRUFBRSxhQUFhLEVBQUUsT0FBTyxDQUFDLENBQUMsQ0FBQztJQUN2QyxPQUFPLENBQUMsQ0FBQyxHQUFHLENBQUMsU0FBUyxDQUFDLENBQUMsaUJBQWlCLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUNwRDtNQUFBLENBQUMsR0FBRyxDQUFDLFNBQVMsQ0FBQyxDQUFDLGlCQUFpQixDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUMsQ0FDbEQ7UUFBQSxDQUFDLFNBQVMsQ0FBQyxPQUFPLENBQUMsQUFBRCxFQUNsQjtRQUFBLENBQUMsV0FBVyxJQUFJLENBQUMsRUFDYjtZQUFBLENBQUMsbUJBQW1CLElBQUksQ0FBQyxDQUFDLFVBQVUsQ0FBQyxPQUFPLENBQUMsQUFBRCxFQUFHLENBQUMsQ0FDaEQ7WUFBQSxDQUFDLFlBQVksSUFBSSxDQUFDLEVBQ2Q7Z0JBQUEsQ0FBQyxVQUFVLENBQUMsT0FBTyxDQUFDLEFBQUQsRUFDbkI7Z0JBQUEsQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLEFBQUQsRUFDbEI7Y0FBQSxHQUFHLENBQUMsQ0FDUjtVQUFBLEdBQUcsQ0FBQyxDQUNSO01BQUEsRUFBRSxHQUFHLENBQ1A7SUFBQSxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUM7QUFDWixDQUFDLENBQUM7QUFDRixPQUFPLENBQUMsT0FBTyxHQUFHLEdBQUcsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIF9fY3JlYXRlQmluZGluZyA9ICh0aGlzICYmIHRoaXMuX19jcmVhdGVCaW5kaW5nKSB8fCAoT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIGsyLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24oKSB7IHJldHVybiBtW2tdOyB9IH0pO1xufSkgOiAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xuICAgIG9bazJdID0gbVtrXTtcbn0pKTtcbnZhciBfX3NldE1vZHVsZURlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9fc2V0TW9kdWxlRGVmYXVsdCkgfHwgKE9iamVjdC5jcmVhdGUgPyAoZnVuY3Rpb24obywgdikge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBcImRlZmF1bHRcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdiB9KTtcbn0pIDogZnVuY3Rpb24obywgdikge1xuICAgIG9bXCJkZWZhdWx0XCJdID0gdjtcbn0pO1xudmFyIF9faW1wb3J0U3RhciA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnRTdGFyKSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgaWYgKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgcmV0dXJuIG1vZDtcbiAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgaWYgKG1vZCAhPSBudWxsKSBmb3IgKHZhciBrIGluIG1vZCkgaWYgKGsgIT09IFwiZGVmYXVsdFwiICYmIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChtb2QsIGspKSBfX2NyZWF0ZUJpbmRpbmcocmVzdWx0LCBtb2QsIGspO1xuICAgIF9fc2V0TW9kdWxlRGVmYXVsdChyZXN1bHQsIG1vZCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn07XG52YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgIH0pO1xufTtcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IHJlYWN0XzEgPSBfX2ltcG9ydFN0YXIocmVxdWlyZShcInJlYWN0XCIpKTtcbmNvbnN0IEhlYWRlcnNfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9Db21wb25lbnRzL0hlYWRlcnNcIikpO1xuY29uc3QgUHJvZHVjdHNfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9Db21wb25lbnRzL1Byb2R1Y3RUeXBlcy9Qcm9kdWN0c1wiKSk7XG5jb25zdCBJdGVtc18xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL0NvbXBvbmVudHMvUHJvZHVjdFR5cGVzL0l0ZW1zXCIpKTtcbmNvbnN0IENvbnRleHRfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9Db250ZXh0XCIpKTtcbmNvbnN0IEFwcF9tb2R1bGVfc2Nzc18xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL0FwcC5tb2R1bGUuc2Nzc1wiKSk7XG5jb25zdCBBcHAgPSAoKSA9PiB7XG4gICAgY29uc3QgeyBsaW5rU3VjY2VzcywgaXNJdGVtQWNjZXNzLCBpc1BheW1lbnRJbml0aWF0aW9uLCBkaXNwYXRjaCB9ID0gcmVhY3RfMS51c2VDb250ZXh0KENvbnRleHRfMS5kZWZhdWx0KTtcbiAgICBjb25zdCBnZXRJbmZvID0gcmVhY3RfMS51c2VDYWxsYmFjaygoKSA9PiBfX2F3YWl0ZXIodm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCBmZXRjaChcIi9hcGkvaW5mb1wiLCB7IG1ldGhvZDogXCJQT1NUXCIgfSk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAgIGRpc3BhdGNoKHsgdHlwZTogXCJTRVRfU1RBVEVcIiwgc3RhdGU6IHsgYmFja2VuZDogZmFsc2UgfSB9KTtcbiAgICAgICAgICAgIHJldHVybiB7IHBheW1lbnRJbml0aWF0aW9uOiBmYWxzZSB9O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGRhdGEgPSB5aWVsZCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIGNvbnN0IHBheW1lbnRJbml0aWF0aW9uID0gZGF0YS5wcm9kdWN0cy5pbmNsdWRlcyhcInBheW1lbnRfaW5pdGlhdGlvblwiKTtcbiAgICAgICAgZGlzcGF0Y2goe1xuICAgICAgICAgICAgdHlwZTogXCJTRVRfU1RBVEVcIixcbiAgICAgICAgICAgIHN0YXRlOiB7XG4gICAgICAgICAgICAgICAgcHJvZHVjdHM6IGRhdGEucHJvZHVjdHMsXG4gICAgICAgICAgICAgICAgaXNQYXltZW50SW5pdGlhdGlvbjogcGF5bWVudEluaXRpYXRpb24sXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHsgcGF5bWVudEluaXRpYXRpb24gfTtcbiAgICB9KSwgW2Rpc3BhdGNoXSk7XG4gICAgY29uc3QgZ2VuZXJhdGVUb2tlbiA9IHJlYWN0XzEudXNlQ2FsbGJhY2soKGlzUGF5bWVudEluaXRpYXRpb24pID0+IF9fYXdhaXRlcih2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAvLyBMaW5rIHRva2VucyBmb3IgJ3BheW1lbnRfaW5pdGlhdGlvbicgdXNlIGEgZGlmZmVyZW50IGNyZWF0aW9uIGZsb3cgaW4geW91ciBiYWNrZW5kLlxuICAgICAgICBjb25zdCBwYXRoID0gaXNQYXltZW50SW5pdGlhdGlvblxuICAgICAgICAgICAgPyBcIi9hcGkvY3JlYXRlX2xpbmtfdG9rZW5fZm9yX3BheW1lbnRcIlxuICAgICAgICAgICAgOiBcIi9hcGkvY3JlYXRlX2xpbmtfdG9rZW5cIjtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCBmZXRjaChwYXRoLCB7XG4gICAgICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgZGlzcGF0Y2goeyB0eXBlOiBcIlNFVF9TVEFURVwiLCBzdGF0ZTogeyBsaW5rVG9rZW46IG51bGwgfSB9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBkYXRhID0geWllbGQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICBpZiAoZGF0YSkge1xuICAgICAgICAgICAgaWYgKGRhdGEuZXJyb3IgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGRpc3BhdGNoKHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJTRVRfU1RBVEVcIixcbiAgICAgICAgICAgICAgICAgICAgc3RhdGU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmtUb2tlbjogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmtUb2tlbkVycm9yOiBkYXRhLmVycm9yLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRpc3BhdGNoKHsgdHlwZTogXCJTRVRfU1RBVEVcIiwgc3RhdGU6IHsgbGlua1Rva2VuOiBkYXRhLmxpbmtfdG9rZW4gfSB9KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBTYXZlIHRoZSBsaW5rX3Rva2VuIHRvIGJlIHVzZWQgbGF0ZXIgaW4gdGhlIE9hdXRoIGZsb3cuXG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwibGlua190b2tlblwiLCBkYXRhLmxpbmtfdG9rZW4pO1xuICAgIH0pLCBbZGlzcGF0Y2hdKTtcbiAgICByZWFjdF8xLnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGNvbnN0IGluaXQgPSAoKSA9PiBfX2F3YWl0ZXIodm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgcGF5bWVudEluaXRpYXRpb24gfSA9IHlpZWxkIGdldEluZm8oKTsgLy8gdXNlZCB0byBkZXRlcm1pbmUgd2hpY2ggcGF0aCB0byB0YWtlIHdoZW4gZ2VuZXJhdGluZyB0b2tlblxuICAgICAgICAgICAgLy8gZG8gbm90IGdlbmVyYXRlIGEgbmV3IHRva2VuIGZvciBPQXV0aCByZWRpcmVjdDsgaW5zdGVhZFxuICAgICAgICAgICAgLy8gc2V0TGlua1Rva2VuIGZyb20gbG9jYWxTdG9yYWdlXG4gICAgICAgICAgICBpZiAod2luZG93LmxvY2F0aW9uLmhyZWYuaW5jbHVkZXMoXCI/b2F1dGhfc3RhdGVfaWQ9XCIpKSB7XG4gICAgICAgICAgICAgICAgZGlzcGF0Y2goe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBcIlNFVF9TVEFURVwiLFxuICAgICAgICAgICAgICAgICAgICBzdGF0ZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGlua1Rva2VuOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcImxpbmtfdG9rZW5cIiksXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZ2VuZXJhdGVUb2tlbihwYXltZW50SW5pdGlhdGlvbik7XG4gICAgICAgIH0pO1xuICAgICAgICBpbml0KCk7XG4gICAgfSwgW2Rpc3BhdGNoLCBnZW5lcmF0ZVRva2VuLCBnZXRJbmZvXSk7XG4gICAgcmV0dXJuICg8ZGl2IGNsYXNzTmFtZT17QXBwX21vZHVsZV9zY3NzXzEuZGVmYXVsdC5BcHB9PlxuICAgICAgPGRpdiBjbGFzc05hbWU9e0FwcF9tb2R1bGVfc2Nzc18xLmRlZmF1bHQuY29udGFpbmVyfT5cbiAgICAgICAgPEhlYWRlcnNfMS5kZWZhdWx0IC8+XG4gICAgICAgIHtsaW5rU3VjY2VzcyAmJiAoPD5cbiAgICAgICAgICAgIHtpc1BheW1lbnRJbml0aWF0aW9uICYmICg8UHJvZHVjdHNfMS5kZWZhdWx0IC8+KX1cbiAgICAgICAgICAgIHtpc0l0ZW1BY2Nlc3MgJiYgKDw+XG4gICAgICAgICAgICAgICAgPFByb2R1Y3RzXzEuZGVmYXVsdCAvPlxuICAgICAgICAgICAgICAgIDxJdGVtc18xLmRlZmF1bHQgLz5cbiAgICAgICAgICAgICAgPC8+KX1cbiAgICAgICAgICA8Lz4pfVxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+KTtcbn07XG5leHBvcnRzLmRlZmF1bHQgPSBBcHA7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0ptYVd4bElqb2lRWEJ3TG1weklpd2ljMjkxY21ObFVtOXZkQ0k2SWlJc0luTnZkWEpqWlhNaU9sc2lMaTR2TGk0dkxpNHZMaTR2Y1hWcFkydHpkR0Z5ZEM5bWNtOXVkR1Z1WkM5emNtTXZRWEJ3TG5SemVDSmRMQ0p1WVcxbGN5STZXMTBzSW0xaGNIQnBibWR6SWpvaU96czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3UVVGQlFTd3JRMEZCYTBVN1FVRkZiRVVzYlVWQlFUQkRPMEZCUXpGRExHdEdRVUV3UkR0QlFVTXhSQ3cwUlVGQmIwUTdRVUZEY0VRc2QwUkJRV2RETzBGQlJXaERMSGRGUVVGMVF6dEJRVVYyUXl4TlFVRk5MRWRCUVVjc1IwRkJSeXhIUVVGSExFVkJRVVU3U1VGRFppeE5RVUZOTEVWQlFVVXNWMEZCVnl4RlFVRkZMRmxCUVZrc1JVRkJSU3h0UWtGQmJVSXNSVUZCUlN4UlFVRlJMRVZCUVVVc1IwRkJSeXhyUWtGQlZTeERRVUZETEdsQ1FVRlBMRU5CUVVNc1EwRkJRenRKUVVWNlJpeE5RVUZOTEU5QlFVOHNSMEZCUnl4dFFrRkJWeXhEUVVGRExFZEJRVk1zUlVGQlJUdFJRVU55UXl4TlFVRk5MRkZCUVZFc1IwRkJSeXhOUVVGTkxFdEJRVXNzUTBGQlF5eFhRVUZYTEVWQlFVVXNSVUZCUlN4TlFVRk5MRVZCUVVVc1RVRkJUU3hGUVVGRkxFTkJRVU1zUTBGQlF6dFJRVU01UkN4SlFVRkpMRU5CUVVNc1VVRkJVU3hEUVVGRExFVkJRVVVzUlVGQlJUdFpRVU5vUWl4UlFVRlJMRU5CUVVNc1JVRkJSU3hKUVVGSkxFVkJRVVVzVjBGQlZ5eEZRVUZGTEV0QlFVc3NSVUZCUlN4RlFVRkZMRTlCUVU4c1JVRkJSU3hMUVVGTExFVkJRVVVzUlVGQlJTeERRVUZETEVOQlFVTTdXVUZETTBRc1QwRkJUeXhGUVVGRkxHbENRVUZwUWl4RlFVRkZMRXRCUVVzc1JVRkJSU3hEUVVGRE8xTkJRM0pETzFGQlEwUXNUVUZCVFN4SlFVRkpMRWRCUVVjc1RVRkJUU3hSUVVGUkxFTkJRVU1zU1VGQlNTeEZRVUZGTEVOQlFVTTdVVUZEYmtNc1RVRkJUU3hwUWtGQmFVSXNSMEZCV1N4SlFVRkpMRU5CUVVNc1VVRkJVU3hEUVVGRExGRkJRVkVzUTBGRGRrUXNiMEpCUVc5Q0xFTkJRM0pDTEVOQlFVTTdVVUZEUml4UlFVRlJMRU5CUVVNN1dVRkRVQ3hKUVVGSkxFVkJRVVVzVjBGQlZ6dFpRVU5xUWl4TFFVRkxMRVZCUVVVN1owSkJRMHdzVVVGQlVTeEZRVUZGTEVsQlFVa3NRMEZCUXl4UlFVRlJPMmRDUVVOMlFpeHRRa0ZCYlVJc1JVRkJSU3hwUWtGQmFVSTdZVUZEZGtNN1UwRkRSaXhEUVVGRExFTkJRVU03VVVGRFNDeFBRVUZQTEVWQlFVVXNhVUpCUVdsQ0xFVkJRVVVzUTBGQlF6dEpRVU12UWl4RFFVRkRMRU5CUVVFc1JVRkJSU3hEUVVGRExGRkJRVkVzUTBGQlF5eERRVUZETEVOQlFVTTdTVUZGWml4TlFVRk5MR0ZCUVdFc1IwRkJSeXh0UWtGQlZ5eERRVU12UWl4RFFVRlBMRzFDUVVGdFFpeEZRVUZGTEVWQlFVVTdVVUZETlVJc2MwWkJRWE5HTzFGQlEzUkdMRTFCUVUwc1NVRkJTU3hIUVVGSExHMUNRVUZ0UWp0WlFVTTVRaXhEUVVGRExFTkJRVU1zYjBOQlFXOURPMWxCUTNSRExFTkJRVU1zUTBGQlF5eDNRa0ZCZDBJc1EwRkJRenRSUVVNM1FpeE5RVUZOTEZGQlFWRXNSMEZCUnl4TlFVRk5MRXRCUVVzc1EwRkJReXhKUVVGSkxFVkJRVVU3V1VGRGFrTXNUVUZCVFN4RlFVRkZMRTFCUVUwN1UwRkRaaXhEUVVGRExFTkJRVU03VVVGRFNDeEpRVUZKTEVOQlFVTXNVVUZCVVN4RFFVRkRMRVZCUVVVc1JVRkJSVHRaUVVOb1FpeFJRVUZSTEVOQlFVTXNSVUZCUlN4SlFVRkpMRVZCUVVVc1YwRkJWeXhGUVVGRkxFdEJRVXNzUlVGQlJTeEZRVUZGTEZOQlFWTXNSVUZCUlN4SlFVRkpMRVZCUVVVc1JVRkJSU3hEUVVGRExFTkJRVU03V1VGRE5VUXNUMEZCVHp0VFFVTlNPMUZCUTBRc1RVRkJUU3hKUVVGSkxFZEJRVWNzVFVGQlRTeFJRVUZSTEVOQlFVTXNTVUZCU1N4RlFVRkZMRU5CUVVNN1VVRkRia01zU1VGQlNTeEpRVUZKTEVWQlFVVTdXVUZEVWl4SlFVRkpMRWxCUVVrc1EwRkJReXhMUVVGTExFbEJRVWtzU1VGQlNTeEZRVUZGTzJkQ1FVTjBRaXhSUVVGUkxFTkJRVU03YjBKQlExQXNTVUZCU1N4RlFVRkZMRmRCUVZjN2IwSkJRMnBDTEV0QlFVc3NSVUZCUlR0M1FrRkRUQ3hUUVVGVExFVkJRVVVzU1VGQlNUdDNRa0ZEWml4alFVRmpMRVZCUVVVc1NVRkJTU3hEUVVGRExFdEJRVXM3Y1VKQlF6TkNPMmxDUVVOR0xFTkJRVU1zUTBGQlF6dG5Ra0ZEU0N4UFFVRlBPMkZCUTFJN1dVRkRSQ3hSUVVGUkxFTkJRVU1zUlVGQlJTeEpRVUZKTEVWQlFVVXNWMEZCVnl4RlFVRkZMRXRCUVVzc1JVRkJSU3hGUVVGRkxGTkJRVk1zUlVGQlJTeEpRVUZKTEVOQlFVTXNWVUZCVlN4RlFVRkZMRVZCUVVVc1EwRkJReXhEUVVGRE8xTkJRM2hGTzFGQlEwUXNNRVJCUVRCRU8xRkJRekZFTEZsQlFWa3NRMEZCUXl4UFFVRlBMRU5CUVVNc1dVRkJXU3hGUVVGRkxFbEJRVWtzUTBGQlF5eFZRVUZWTEVOQlFVTXNRMEZCUXp0SlFVTjBSQ3hEUVVGRExFTkJRVUVzUlVGRFJDeERRVUZETEZGQlFWRXNRMEZCUXl4RFFVTllMRU5CUVVNN1NVRkZSaXhwUWtGQlV5eERRVUZETEVkQlFVY3NSVUZCUlR0UlFVTmlMRTFCUVUwc1NVRkJTU3hIUVVGSExFZEJRVk1zUlVGQlJUdFpRVU4wUWl4TlFVRk5MRVZCUVVVc2FVSkJRV2xDTEVWQlFVVXNSMEZCUnl4TlFVRk5MRTlCUVU4c1JVRkJSU3hEUVVGRExFTkJRVU1zTmtSQlFUWkVPMWxCUXpWSExEQkVRVUV3UkR0WlFVTXhSQ3hwUTBGQmFVTTdXVUZEYWtNc1NVRkJTU3hOUVVGTkxFTkJRVU1zVVVGQlVTeERRVUZETEVsQlFVa3NRMEZCUXl4UlFVRlJMRU5CUVVNc2EwSkJRV3RDTEVOQlFVTXNSVUZCUlR0blFrRkRja1FzVVVGQlVTeERRVUZETzI5Q1FVTlFMRWxCUVVrc1JVRkJSU3hYUVVGWE8yOUNRVU5xUWl4TFFVRkxMRVZCUVVVN2QwSkJRMHdzVTBGQlV5eEZRVUZGTEZsQlFWa3NRMEZCUXl4UFFVRlBMRU5CUVVNc1dVRkJXU3hEUVVGRE8zRkNRVU01UXp0cFFrRkRSaXhEUVVGRExFTkJRVU03WjBKQlEwZ3NUMEZCVHp0aFFVTlNPMWxCUTBRc1lVRkJZU3hEUVVGRExHbENRVUZwUWl4RFFVRkRMRU5CUVVNN1VVRkRia01zUTBGQlF5eERRVUZCTEVOQlFVTTdVVUZEUml4SlFVRkpMRVZCUVVVc1EwRkJRenRKUVVOVUxFTkJRVU1zUlVGQlJTeERRVUZETEZGQlFWRXNSVUZCUlN4aFFVRmhMRVZCUVVVc1QwRkJUeXhEUVVGRExFTkJRVU1zUTBGQlF6dEpRVVYyUXl4UFFVRlBMRU5CUTB3c1EwRkJReXhIUVVGSExFTkJRVU1zVTBGQlV5eERRVUZETEVOQlFVTXNlVUpCUVUwc1EwRkJReXhIUVVGSExFTkJRVU1zUTBGRGVrSTdUVUZCUVN4RFFVRkRMRWRCUVVjc1EwRkJReXhUUVVGVExFTkJRVU1zUTBGQlF5eDVRa0ZCVFN4RFFVRkRMRk5CUVZNc1EwRkJReXhEUVVNdlFqdFJRVUZCTEVOQlFVTXNhVUpCUVUwc1EwRkJReXhCUVVGRUxFVkJRMUE3VVVGQlFTeERRVUZETEZkQlFWY3NTVUZCU1N4RFFVTmtMRVZCUTBVN1dVRkJRU3hEUVVGRExHMUNRVUZ0UWl4SlFVRkpMRU5CUTNSQ0xFTkJRVU1zYTBKQlFWRXNRMEZCUXl4QlFVRkVMRVZCUVVjc1EwRkRZaXhEUVVORU8xbEJRVUVzUTBGQlF5eFpRVUZaTEVsQlFVa3NRMEZEWml4RlFVTkZPMmRDUVVGQkxFTkJRVU1zYTBKQlFWRXNRMEZCUXl4QlFVRkVMRVZCUTFRN1owSkJRVUVzUTBGQlF5eGxRVUZMTEVOQlFVTXNRVUZCUkN4RlFVTlNPMk5CUVVFc1IwRkJSeXhEUVVOS0xFTkJRMGc3VlVGQlFTeEhRVUZITEVOQlEwb3NRMEZEU0R0TlFVRkJMRVZCUVVVc1IwRkJSeXhEUVVOUU8wbEJRVUVzUlVGQlJTeEhRVUZITEVOQlFVTXNRMEZEVUN4RFFVRkRPMEZCUTBvc1EwRkJReXhEUVVGRE8wRkJSVVlzYTBKQlFXVXNSMEZCUnl4RFFVRkRJaXdpYzI5MWNtTmxjME52Ym5SbGJuUWlPbHNpYVcxd2IzSjBJRkpsWVdOMExDQjdJSFZ6WlVWbVptVmpkQ3dnZFhObFEyOXVkR1Y0ZEN3Z2RYTmxRMkZzYkdKaFkyc2dmU0JtY205dElGd2ljbVZoWTNSY0lqdGNibHh1YVcxd2IzSjBJRWhsWVdSbGNpQm1jbTl0SUZ3aUxpOURiMjF3YjI1bGJuUnpMMGhsWVdSbGNuTmNJanRjYm1sdGNHOXlkQ0JRY205a2RXTjBjeUJtY205dElGd2lMaTlEYjIxd2IyNWxiblJ6TDFCeWIyUjFZM1JVZVhCbGN5OVFjbTlrZFdOMGMxd2lPMXh1YVcxd2IzSjBJRWwwWlcxeklHWnliMjBnWENJdUwwTnZiWEJ2Ym1WdWRITXZVSEp2WkhWamRGUjVjR1Z6TDBsMFpXMXpYQ0k3WEc1cGJYQnZjblFnUTI5dWRHVjRkQ0JtY205dElGd2lMaTlEYjI1MFpYaDBYQ0k3WEc1Y2JtbHRjRzl5ZENCemRIbHNaWE1nWm5KdmJTQmNJaTR2UVhCd0xtMXZaSFZzWlM1elkzTnpYQ0k3WEc1Y2JtTnZibk4wSUVGd2NDQTlJQ2dwSUQwK0lIdGNiaUFnWTI5dWMzUWdleUJzYVc1clUzVmpZMlZ6Y3l3Z2FYTkpkR1Z0UVdOalpYTnpMQ0JwYzFCaGVXMWxiblJKYm1sMGFXRjBhVzl1TENCa2FYTndZWFJqYUNCOUlEMGdkWE5sUTI5dWRHVjRkQ2hEYjI1MFpYaDBLVHRjYmx4dUlDQmpiMjV6ZENCblpYUkpibVp2SUQwZ2RYTmxRMkZzYkdKaFkyc29ZWE41Ym1NZ0tDa2dQVDRnZTF4dUlDQWdJR052Ym5OMElISmxjM0J2Ym5ObElEMGdZWGRoYVhRZ1ptVjBZMmdvWENJdllYQnBMMmx1Wm05Y0lpd2dleUJ0WlhSb2IyUTZJRndpVUU5VFZGd2lJSDBwTzF4dUlDQWdJR2xtSUNnaGNtVnpjRzl1YzJVdWIyc3BJSHRjYmlBZ0lDQWdJR1JwYzNCaGRHTm9LSHNnZEhsd1pUb2dYQ0pUUlZSZlUxUkJWRVZjSWl3Z2MzUmhkR1U2SUhzZ1ltRmphMlZ1WkRvZ1ptRnNjMlVnZlNCOUtUdGNiaUFnSUNBZ0lISmxkSFZ5YmlCN0lIQmhlVzFsYm5SSmJtbDBhV0YwYVc5dU9pQm1ZV3h6WlNCOU8xeHVJQ0FnSUgxY2JpQWdJQ0JqYjI1emRDQmtZWFJoSUQwZ1lYZGhhWFFnY21WemNHOXVjMlV1YW5OdmJpZ3BPMXh1SUNBZ0lHTnZibk4wSUhCaGVXMWxiblJKYm1sMGFXRjBhVzl1T2lCaWIyOXNaV0Z1SUQwZ1pHRjBZUzV3Y205a2RXTjBjeTVwYm1Oc2RXUmxjeWhjYmlBZ0lDQWdJRndpY0dGNWJXVnVkRjlwYm1sMGFXRjBhVzl1WENKY2JpQWdJQ0FwTzF4dUlDQWdJR1JwYzNCaGRHTm9LSHRjYmlBZ0lDQWdJSFI1Y0dVNklGd2lVMFZVWDFOVVFWUkZYQ0lzWEc0Z0lDQWdJQ0J6ZEdGMFpUb2dlMXh1SUNBZ0lDQWdJQ0J3Y205a2RXTjBjem9nWkdGMFlTNXdjbTlrZFdOMGN5eGNiaUFnSUNBZ0lDQWdhWE5RWVhsdFpXNTBTVzVwZEdsaGRHbHZiam9nY0dGNWJXVnVkRWx1YVhScFlYUnBiMjRzWEc0Z0lDQWdJQ0I5TEZ4dUlDQWdJSDBwTzF4dUlDQWdJSEpsZEhWeWJpQjdJSEJoZVcxbGJuUkpibWwwYVdGMGFXOXVJSDA3WEc0Z0lIMHNJRnRrYVhOd1lYUmphRjBwTzF4dVhHNGdJR052Ym5OMElHZGxibVZ5WVhSbFZHOXJaVzRnUFNCMWMyVkRZV3hzWW1GamF5aGNiaUFnSUNCaGMzbHVZeUFvYVhOUVlYbHRaVzUwU1c1cGRHbGhkR2x2YmlrZ1BUNGdlMXh1SUNBZ0lDQWdMeThnVEdsdWF5QjBiMnRsYm5NZ1ptOXlJQ2R3WVhsdFpXNTBYMmx1YVhScFlYUnBiMjRuSUhWelpTQmhJR1JwWm1abGNtVnVkQ0JqY21WaGRHbHZiaUJtYkc5M0lHbHVJSGx2ZFhJZ1ltRmphMlZ1WkM1Y2JpQWdJQ0FnSUdOdmJuTjBJSEJoZEdnZ1BTQnBjMUJoZVcxbGJuUkpibWwwYVdGMGFXOXVYRzRnSUNBZ0lDQWdJRDhnWENJdllYQnBMMk55WldGMFpWOXNhVzVyWDNSdmEyVnVYMlp2Y2w5d1lYbHRaVzUwWENKY2JpQWdJQ0FnSUNBZ09pQmNJaTloY0drdlkzSmxZWFJsWDJ4cGJtdGZkRzlyWlc1Y0lqdGNiaUFnSUNBZ0lHTnZibk4wSUhKbGMzQnZibk5sSUQwZ1lYZGhhWFFnWm1WMFkyZ29jR0YwYUN3Z2UxeHVJQ0FnSUNBZ0lDQnRaWFJvYjJRNklGd2lVRTlUVkZ3aUxGeHVJQ0FnSUNBZ2ZTazdYRzRnSUNBZ0lDQnBaaUFvSVhKbGMzQnZibk5sTG05cktTQjdYRzRnSUNBZ0lDQWdJR1JwYzNCaGRHTm9LSHNnZEhsd1pUb2dYQ0pUUlZSZlUxUkJWRVZjSWl3Z2MzUmhkR1U2SUhzZ2JHbHVhMVJ2YTJWdU9pQnVkV3hzSUgwZ2ZTazdYRzRnSUNBZ0lDQWdJSEpsZEhWeWJqdGNiaUFnSUNBZ0lIMWNiaUFnSUNBZ0lHTnZibk4wSUdSaGRHRWdQU0JoZDJGcGRDQnlaWE53YjI1elpTNXFjMjl1S0NrN1hHNGdJQ0FnSUNCcFppQW9aR0YwWVNrZ2UxeHVJQ0FnSUNBZ0lDQnBaaUFvWkdGMFlTNWxjbkp2Y2lBaFBTQnVkV3hzS1NCN1hHNGdJQ0FnSUNBZ0lDQWdaR2x6Y0dGMFkyZ29lMXh1SUNBZ0lDQWdJQ0FnSUNBZ2RIbHdaVG9nWENKVFJWUmZVMVJCVkVWY0lpeGNiaUFnSUNBZ0lDQWdJQ0FnSUhOMFlYUmxPaUI3WEc0Z0lDQWdJQ0FnSUNBZ0lDQWdJR3hwYm10VWIydGxiam9nYm5Wc2JDeGNiaUFnSUNBZ0lDQWdJQ0FnSUNBZ2JHbHVhMVJ2YTJWdVJYSnliM0k2SUdSaGRHRXVaWEp5YjNJc1hHNGdJQ0FnSUNBZ0lDQWdJQ0I5TEZ4dUlDQWdJQ0FnSUNBZ0lIMHBPMXh1SUNBZ0lDQWdJQ0FnSUhKbGRIVnlianRjYmlBZ0lDQWdJQ0FnZlZ4dUlDQWdJQ0FnSUNCa2FYTndZWFJqYUNoN0lIUjVjR1U2SUZ3aVUwVlVYMU5VUVZSRlhDSXNJSE4wWVhSbE9pQjdJR3hwYm10VWIydGxiam9nWkdGMFlTNXNhVzVyWDNSdmEyVnVJSDBnZlNrN1hHNGdJQ0FnSUNCOVhHNGdJQ0FnSUNBdkx5QlRZWFpsSUhSb1pTQnNhVzVyWDNSdmEyVnVJSFJ2SUdKbElIVnpaV1FnYkdGMFpYSWdhVzRnZEdobElFOWhkWFJvSUdac2IzY3VYRzRnSUNBZ0lDQnNiMk5oYkZOMGIzSmhaMlV1YzJWMFNYUmxiU2hjSW14cGJtdGZkRzlyWlc1Y0lpd2daR0YwWVM1c2FXNXJYM1J2YTJWdUtUdGNiaUFnSUNCOUxGeHVJQ0FnSUZ0a2FYTndZWFJqYUYxY2JpQWdLVHRjYmx4dUlDQjFjMlZGWm1abFkzUW9LQ2tnUFQ0Z2UxeHVJQ0FnSUdOdmJuTjBJR2x1YVhRZ1BTQmhjM2x1WXlBb0tTQTlQaUI3WEc0Z0lDQWdJQ0JqYjI1emRDQjdJSEJoZVcxbGJuUkpibWwwYVdGMGFXOXVJSDBnUFNCaGQyRnBkQ0JuWlhSSmJtWnZLQ2s3SUM4dklIVnpaV1FnZEc4Z1pHVjBaWEp0YVc1bElIZG9hV05vSUhCaGRHZ2dkRzhnZEdGclpTQjNhR1Z1SUdkbGJtVnlZWFJwYm1jZ2RHOXJaVzVjYmlBZ0lDQWdJQzh2SUdSdklHNXZkQ0JuWlc1bGNtRjBaU0JoSUc1bGR5QjBiMnRsYmlCbWIzSWdUMEYxZEdnZ2NtVmthWEpsWTNRN0lHbHVjM1JsWVdSY2JpQWdJQ0FnSUM4dklITmxkRXhwYm10VWIydGxiaUJtY205dElHeHZZMkZzVTNSdmNtRm5aVnh1SUNBZ0lDQWdhV1lnS0hkcGJtUnZkeTVzYjJOaGRHbHZiaTVvY21WbUxtbHVZMngxWkdWektGd2lQMjloZFhSb1gzTjBZWFJsWDJsa1BWd2lLU2tnZTF4dUlDQWdJQ0FnSUNCa2FYTndZWFJqYUNoN1hHNGdJQ0FnSUNBZ0lDQWdkSGx3WlRvZ1hDSlRSVlJmVTFSQlZFVmNJaXhjYmlBZ0lDQWdJQ0FnSUNCemRHRjBaVG9nZTF4dUlDQWdJQ0FnSUNBZ0lDQWdiR2x1YTFSdmEyVnVPaUJzYjJOaGJGTjBiM0poWjJVdVoyVjBTWFJsYlNoY0lteHBibXRmZEc5clpXNWNJaWtzWEc0Z0lDQWdJQ0FnSUNBZ2ZTeGNiaUFnSUNBZ0lDQWdmU2s3WEc0Z0lDQWdJQ0FnSUhKbGRIVnlianRjYmlBZ0lDQWdJSDFjYmlBZ0lDQWdJR2RsYm1WeVlYUmxWRzlyWlc0b2NHRjViV1Z1ZEVsdWFYUnBZWFJwYjI0cE8xeHVJQ0FnSUgwN1hHNGdJQ0FnYVc1cGRDZ3BPMXh1SUNCOUxDQmJaR2x6Y0dGMFkyZ3NJR2RsYm1WeVlYUmxWRzlyWlc0c0lHZGxkRWx1Wm05ZEtUdGNibHh1SUNCeVpYUjFjbTRnS0Z4dUlDQWdJRHhrYVhZZ1kyeGhjM05PWVcxbFBYdHpkSGxzWlhNdVFYQndmVDVjYmlBZ0lDQWdJRHhrYVhZZ1kyeGhjM05PWVcxbFBYdHpkSGxzWlhNdVkyOXVkR0ZwYm1WeWZUNWNiaUFnSUNBZ0lDQWdQRWhsWVdSbGNpQXZQbHh1SUNBZ0lDQWdJQ0I3YkdsdWExTjFZMk5sYzNNZ0ppWWdLRnh1SUNBZ0lDQWdJQ0FnSUR3K1hHNGdJQ0FnSUNBZ0lDQWdJQ0I3YVhOUVlYbHRaVzUwU1c1cGRHbGhkR2x2YmlBbUppQW9YRzRnSUNBZ0lDQWdJQ0FnSUNBZ0lEeFFjbTlrZFdOMGN5QXZQbHh1SUNBZ0lDQWdJQ0FnSUNBZ0tYMWNiaUFnSUNBZ0lDQWdJQ0FnSUh0cGMwbDBaVzFCWTJObGMzTWdKaVlnS0Z4dUlDQWdJQ0FnSUNBZ0lDQWdJQ0E4UGx4dUlDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUR4UWNtOWtkV04wY3lBdlBseHVJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lEeEpkR1Z0Y3lBdlBseHVJQ0FnSUNBZ0lDQWdJQ0FnSUNBOEx6NWNiaUFnSUNBZ0lDQWdJQ0FnSUNsOVhHNGdJQ0FnSUNBZ0lDQWdQQzgrWEc0Z0lDQWdJQ0FnSUNsOVhHNGdJQ0FnSUNBOEwyUnBkajVjYmlBZ0lDQThMMlJwZGo1Y2JpQWdLVHRjYm4wN1hHNWNibVY0Y0c5eWRDQmtaV1poZFd4MElFRndjRHRjYmlKZGZRPT0iXX0=